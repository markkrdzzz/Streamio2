<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <title>Profile</title>
    <link rel="stylesheet" href="./style.css">
    <link rel="icon" href="./favicon.ico" type="image/x-icon">
  </head>

  <body>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>

    <main>
      <!--Navbar-->
      <nav class="navbar fixed-top bg-body-tertiary">
        <div class="container-fluid">
            <a class="navbar-brand" href="homepage.html"><img src="logo.svg" width="90"></a>
            <a href="login.html" class="btn custom-button">Login/Signup</a>
        </div>
      </nav>

       <!--Options-->
        <div class="options-filter-container">
            <div class="options-bar">
                <a href="#" class="option-item active" data-category="about">About</a>
                <a href="#" class="option-item" data-category="live">Live</a>
            </div>

            <!--Create Live button-->
            <button class="btn btn-primary custom-button" id="createLiveBtn" style="display: none; position: absolute; left: 50%; transform: translateX(-50%); " data-bs-toggle="modal" data-bs-target="#createLiveModal">
                Create Live
            </button>

        </div>

      <div id="aboutPage" class="about-page">
      <!--Profile picture-->
      <div class="pfp-container text-center mx-auto" style="width: 150px;"> 
     
     
        <div>
            <img class="rounded-circle pfp" src="https://www.utrgv.edu/tutoring/_files/images/staff/no-pic.jpg" 
            width="150" height="150" id="profilePicture">
            <p class="text-center fs-1 name">UTRGV</p>   <!--Name-->
        </div>

        <button
            id="changePfpBtn"
            class="btn btn-sm btn-secondary mt-2"
            style="background-color: #afd5eb; color: black; width: auto; display: block; margin: 0 auto; font-weight: 600;"
            data-bs-toggle="modal" 
            data-bs-target="#editProfileModal"
          >
            Edit
          </button>
          <input
            type="file"
            id="pfpInput"
            accept="image/*"
            style="display: none;"
          />
      </div>

      <!--Edit Profile Modal-->
      <div class="modal fade" id="editProfileModal" tabindex="-1" aria-labelledby="editProfileModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content" style="background-color: #353434; color:white;">
            <div class="modal-header">
              <h5 class="modal-title" id="editProfileModalLabel">Edit Profile</h5>
              <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <form id="edit-profile-form">
                
                <!-- Profile Picture -->
                <div class="mb-3 text-center">
                  <label class="form-label">Profile Picture</label>
                  <div>
                    <img id="previewPicture" class="rounded-circle" src="https://www.utrgv.edu/tutoring/_files/images/staff/no-pic.jpg" 
                      width="100" height="100" style="object-fit: cover;">
                  </div>
                  <button type="button" class="btn btn-sm btn-secondary mt-2" id="selectImageBtn">
                    Select Image
                  </button>
                  <input type="file" id="profilePictureInput" accept="image/*" style="display: none;">
                </div>

                <!-- Name -->
                <div class="mb-3">
                  <label for="editName" class="form-label">Name</label>
                  <input type="text" class="form-control" id="editName" placeholder="Enter your name" required>
                </div>
                
                <!-- Bio -->
                <div class="mb-3">
                  <label for="editBio" class="form-label">Bio</label>
                  <textarea class="form-control" id="editBio" rows="3" placeholder="Tell us about yourself"></textarea>
                </div>
              </form>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
              <button type="submit" class="btn btn-primary custom-button" form="edit-profile-form">Save Changes</button>
            </div>
          </div>
        </div>
      </div>

      <!--Biography section-->
      <div class="biography-section">
        <p class="text-center fs-4 name">Biography</p>
        <hr>
        <p class="text-center fs-5 name" id="bioText">Welcome! We are the University of Texas - Rio Grande Valley, College of Computer Science.</p>
      </div>

      <!-- Clubs and events side by side -->
      <div class="container mt-5" style="max-width: 1400px;">
        <div class="row">
          <!-- Clubs section -->
          <div class="col-md-6">
            <div class="clubs-section">
              <p class="text-center fs-4 name">Clubs</p>
              <hr>
              <div id="clubsList" class="mt-3" style="max-height: 600px; overflow-y: auto; padding-right: 10px;">
                <p class="text-center" style="color: #888;">No clubs yet</p>
              </div>
            </div>
          </div>

          <!-- Events section -->
          <div class="col-md-6">
            <div class="events-section">
              <p class="text-center fs-4 name">Created Events</p>
              <hr>
              <div id="eventsList" class="mt-3" style="max-height: 600px; overflow-y: auto; padding-right: 10px;">
                <p class="text-center" style="color: #888;">No events yet</p>
              </div>
            </div>
          </div>
        </div>
      </div>
      </div>

      

       <div id="livePage" class="live-page" style="display: none;">
          <div class="modal fade" id="createLiveModal" tabindex="-1" aria-labelledby="createLiveModalLabel" aria-hidden="true">
              <div class="modal-dialog">
                  <div class="modal-content" style="background-color: #353434; color:white;">
                      <div class="modal-header">
                          <h5 class="modal-title" id="createLiveModalLabel">Start New Live Stream</h5>
                          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                      </div>
                      
                      <div class="modal-body">
                          <form id="live-creation-form">
                              
                              <div class="mb-3">
                                  <label for="liveTitle" class="form-label">Stream Title</label>
                                  <input type="text" class="form-control" id="liveTitle" placeholder="" required>
                              </div>
                              
                              <div class="mb-3">
                                  <label for="liveCategory" class="form-label">Category</label>
                                  <select class="form-select" id="liveCategory" required>
                                      <option value="">Select a category</option>
                                      <option value="Clubs">Clubs</option>
                                      <option value="School">School</option>
                                      <option value="People">People</option>
                                      <option value="Gaming">Gaming</option>
                                      <option value="Sports">Sports</option>
                                      <option value="Other">Other</option>
                                  </select>
                              </div>

                              <!-- Club Selection - Only shows when "Clubs" category is selected -->
                              <div class="mb-3" id="liveClubContainer" style="display: none;">
                                  <label for="liveClub" class="form-label">Select Your Club</label>
                                  <select class="form-select" id="liveClub">
                                      <option value="">Select a club</option>
                                      <!-- Options will be populated dynamically -->
                                  </select>
                              </div>
                              
                              <div class="mb-3">
                                  <label for="liveDescription" class="form-label">Description</label>
                                  <textarea class="form-control" id="liveDescription" rows="3" placeholder="Tell viewers what your stream is about." required></textarea>
                              </div>
                          </form>
                      </div>
                  
                      <div class="modal-footer">
                          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                          <button type="submit" class="btn btn-danger custom-button" form="live-creation-form">Go Live</button>
                      </div>
                  </div>
              </div>
          </div>
        </div>
    </main>
    <script src="index.js"></script>
    <script src="navbar.js"></script>
    <script src="profile.js"></script>
    <script src="stream.js"></script>
  </body>
</html>