<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <title>Streamio</title>
    <link rel="stylesheet" href="./style.css">
    <link rel="icon" href="./favicon.ico" type="image/x-icon">
  </head>

  <body>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
    <!--Navbar-->
    <nav class="navbar fixed-top bg-body-tertiary">
    <div class="container-fluid">
        <a class="navbar-brand" href="homepage.html"><img src="logo.svg" width="90"></a>
        <form class="d-flex" role="search">
            <input class="form-control me-2 search-input" type="search" placeholder="Search" aria-label="Search"/>
            <button class="btn custom-button" type="submit">Search</button>
        </form>
        <button class="btn custom-button"><a href="login.html">Login/Signup</a></button>
    </div>
    </nav>



    <main class="content-area">


        <!--Options-->
        <div class="options-filter-container">
            <div class="options-bar">
                <a href="#" class="option-item active" data-category="all">Live</a>
                <a href="#" class="option-item" data-category="clubs">Clubs</a>
                <a href="#" class="option-item" data-category="school">School</a>
                <a href="#" class="option-item" data-category="people">People</a>
                <a href="#" class="option-item" data-category="events">Events</a>
            </div>
            <!--Create Club button and Upcoming Events title in line with the filter button-->
            <button class="btn btn-primary custom-button" id="createClubBtn" style="display: none; position: absolute; left: 50%; transform: translateX(-50%);" data-bs-toggle="modal" data-bs-target="#createClubModal">
                Create Club
            </button>
            
            <h1 id="eventsTitle" style="display: none; position: absolute; left: 50%; transform: translateX(-50%); margin: 0; font-size: 1.5rem;">Upcoming Events</h1>
            
            <button class="filter-button" id="filterButton">
                <span class="icon">&#9776;</span> Filter
            </button>
        </div>

        <!--Filter-->
       <div class="filter-options-dropdown" id="filterOptions">
    
            <div class="dropdown filter-chip-dropdown">

                 <button class="btn btn-secondary dropdown-toggle filter-chip" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                    Category <span class="caret"></span>
                </button>
                <ul class="dropdown-menu">
                    <li><a class="dropdown-item" href="#">Events</a></li>
                    <li><a class="dropdown-item" href="#">Sports</a></li>
                    <li><a class="dropdown-item" href="#">Academics</a></li>
                    <li><a class="dropdown-item" href="#">Gaming</a></li>
                </ul>

                 <button class="btn btn-secondary dropdown-toggle filter-chip" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                    School <span class="caret"></span>
                </button>
                <ul class="dropdown-menu">
                    <li><a class="dropdown-item" href="#">UTRGV</a></li>
                    <li><a class="dropdown-item" href="#">CSCI</a></li>
                    <li><a class="dropdown-item" href="#">CMPE</a></li>
                    <li><a class="dropdown-item" href="#">BSN</a></li>
                </ul>

                <button class="btn btn-secondary dropdown-toggle filter-chip" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                    Location <span class="caret"></span>
                </button>
                <ul class="dropdown-menu">
                    <li><a class="dropdown-item" href="#">Edinburg</a></li>
                    <li><a class="dropdown-item" href="#">Brownsville</a></li>
                </ul>
            </div>

            <button class="btn btn-primary mt-3 save-changes-btn">Save Changes</button>
        </div>

        <!--Video Placeholders-->
        <div class="video-results" id="videoResults">
          
            <div class="video-placeholder" data-category="school">
                <div class="thumbnail-block"></div>
                <div class="video-info">
                    <div class="profile-pic"></div>
                    <div>
                        <div class="title-block">Hackathon</div>
                        <span class="video-filter-tag">CSCI</span>
                    </div>
                </div>
            </div>

            <div class="video-placeholder" data-category="live">
                <div class="thumbnail-block"></div>
                <div class="video-info">
                    <div class="profile-pic"></div>
                    <div>
                        <div class="title-block">Football Game</div>
                        <span class="video-filter-tag">UTRGV</span>
                    </div>
                </div>
            </div>

            <div class="video-placeholder" data-category="school">
                <div class="thumbnail-block"></div>
                <div class="video-info">
                    <div class="profile-pic"></div>
                    <div>
                        <div class="title-block">CSCI 3333 Final Review</div>
                        <span class="video-filter-tag">CSCI</span>
                    </div>
                </div>
            </div>

            <div class="video-placeholder" data-category="clubs">
                <div class="thumbnail-block"></div>
                <div class="video-info">
                    <div class="profile-pic"></div>
                    <div>
                        <div class="title-block">Game Dev Club Meeting</div>
                        <span class="video-filter-tag">GAMEDEV</span>
                    </div>
                </div>
            </div>

            <div class="video-placeholder" data-category="people">
                <div class="thumbnail-block"></div>
                <div class="video-info">
                    <div class="profile-pic"></div>
                    <div>
                        <div class="title-block">Resume Review</div>
                        <span class="video-filter-tag">Frontera Devs</span>
                    </div>
                </div>
            </div>

            <div class="video-placeholder" data-category="live">
                <div class="thumbnail-block"></div>
                <div class="video-info">
                    <div class="profile-pic"></div>
                    <div>
                        <div class="title-block">Guest Speaker</div>
                        <span class="video-filter-tag">UTRGV</span>
                    </div>
                </div>
            </div>

            <div class="video-placeholder" data-category="school">
                <div class="thumbnail-block"></div>
                <div class="video-info">
                    <div class="profile-pic"></div>
                    <div>
                        <div class="title-block">UTRGV Major Showcase</div>
                        <span class="video-filter-tag">UTRGV</span>
                    </div>
                </div>
            </div>

            <div class="video-placeholder" data-category="clubs">
                <div class="thumbnail-block"></div>
                <div class="video-info">
                    <div class="profile-pic"></div>
                    <div>
                        <div class="title-block">Basketball Runs</div>
                        <span class="video-filter-tag">UREC</span>
                    </div>
                </div>
            </div>

            <div class="video-placeholder" data-category="people">
                <div class="thumbnail-block"></div>
                <div class="video-info">
                    <div class="profile-pic"></div>
                    <div>
                        <div class="title-block">Code Review</div>
                        <span class="video-filter-tag">John Doe</span>
                    </div>
                </div>
            </div>
        </div>

        <!--Events-->
        <div class="events-page" id="eventsPage" style="display: none;">
            <div class="container mt-4">
                
                <div class="d-flex justify-content-center mb-4">
                    <button 
                        id="createEventBtn"
                        class="btn btn-primary custom-button" 
                        data-bs-toggle="modal" 
                        data-bs-target="#createEventModal"
                    >
                        Create Event
                    </button>
                </div>

                <div id="events-list" class="events-grid">
                    <div class="card event-card shadow-sm">
                        <div class="card-body">
                            <h5 class="event-card-title">Poster Presentation</h5>
                            <h6 class="event-card-subtitle">October 29, 2025 at 5:00 PM</h6>
                            <p class="event-card-location">Edinburg Campus, EIEAB Building</p>
                            <p class="event-card-description">Join us to view projects our seniors are doing.</p>
                        </div>
                    </div>

                    <div class="card event-card shadow-sm">
                        <div class="card-body">
                            <h5 class="event-card-title">UTRGV Graduation Ceremony</h5>
                            <h6 class="event-card-subtitle">December 20, 2025 at 10:00 AM</h6>
                            <p class="event-card-location">Edinburg, Bert Ogden Arena</p>
                            <p class="event-card-description">Come join us in supporting our UTRGV Graduates.</p>
                        </div>
                    </div>

                    <div class="card event-card shadow-sm">
                        <div class="card-body">
                            <h5 class="event-card-title">Tech Workshop Series</h5>
                            <h6 class="event-card-subtitle">November 15, 2025 at 2:00 PM</h6>
                            <p class="event-card-location">Computer Science Building, Room 101</p>
                            <p class="event-card-description">Join us for an intensive workshop covering modern web development technologies including React, Node.js, and cloud deployment. This hands-on session will guide you through building a full-stack application from scratch. Perfect for beginners and intermediate developers looking to expand their skillset. Bring your laptop and be ready to code! Refreshments will be provided. Limited seats available, so register early to secure your spot.</p>
                        </div>
                    </div>

                    <div class="card event-card shadow-sm">
                        <div class="card-body">
                            <h5 class="event-card-title">Career Fair 2025</h5>
                            <h6 class="event-card-subtitle">January 10, 2026 at 9:00 AM</h6>
                            <p class="event-card-location">University Center Ballroom</p>
                            <p class="event-card-description">Network with top employers and explore career opportunities.</p>
                        </div>
                    </div>

                </div>
                
            </div>
            
            <!--Create Event Form-->
            <div class="modal fade" id="createEventModal" tabindex="-1" aria-labelledby="createEventModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content" style="background-color: #353434; color:white;">
                        <div class="modal-header">
                            <h5 class="modal-title" id="createEventModalLabel">Create New Event</h5>
                            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        
                        <div class="modal-body">
                            <form id="event-creation-form">
                                
                                <div class="mb-3">
                                    <label for="eventName" class="form-label">Event Name</label>
                                    <input type="text" class="form-control" id="eventName" required>
                                </div>
                                
                                <div class="mb-3">
                                    <label for="eventTime" class="form-label">Date and Time</label>
                                    <input type="datetime-local" class="form-control" id="eventTime" required>
                                </div>
                                
                                <div class="mb-3">
                                    <label for="eventLocation" class="form-label">Location</label>
                                    <input type="text" class="form-control" id="eventLocation" required>
                                </div>
                                
                                <div class="mb-3">
                                    <label for="eventDescription" class="form-label">Description</label>
                                    <textarea class="form-control" id="eventDescription" rows="3" required></textarea>
                                </div>

                            </form>
                        </div>
                        
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                            <button type="submit" class="btn btn-success custom-button" form="event-creation-form">Create Event</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!--Create Club Form-->
        <div class="modal fade" id="createClubModal" tabindex="-1" aria-labelledby="createClubModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content" style="background-color: #353434; color:white;">
                    <div class="modal-header">
                        <h5 class="modal-title" id="createClubModalLabel">Create New Club</h5>
                        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    
                    <div class="modal-body">
                        <form id="club-creation-form">
                            
                            <div class="mb-3">
                                <label for="clubName" class="form-label">Club Name</label>
                                <input type="text" class="form-control" id="clubName" required>
                            </div>
                            
                            <div class="mb-3">
                                <label for="clubCategory" class="form-label">Category</label>
                                <select class="form-select" id="clubCategory" required>
                                    <option value="">Select a category</option>
                                    <option value="sports">Sports</option>
                                    <option value="academics">Academics</option>
                                    <option value="gaming">Gaming</option>
                                    <option value="arts">Arts</option>
                                    <option value="technology">Technology</option>
                                    <option value="other">Other</option>
                                </select>
                            </div>
                            
                            <div class="mb-3">
                                <label for="clubDescription" class="form-label">Description</label>
                                <textarea class="form-control" id="clubDescription" rows="3" required></textarea>
                            </div>

                            <div class="mb-3">
                                <label for="clubContact" class="form-label">Contact Email</label>
                                <input type="email" class="form-control" id="clubContact" required>
                            </div>

                        </form>
                    </div>
                    
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                        <button type="submit" class="btn btn-success custom-button" form="club-creation-form">Create Club</button>
                    </div>
                </div>
            </div>
        </div>

    </main>
    
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Get the references
            const options = document.querySelectorAll('.option-item');
            const videos = document.querySelectorAll('.video-placeholder');
            const videoResults = document.getElementById('videoResults');
            const eventsPage = document.getElementById('eventsPage');
            const createClubBtn = document.getElementById('createClubBtn');
            const createEventBtn = document.getElementById('createEventBtn');
            const eventsTitle = document.getElementById('eventsTitle');
            const isLoggedIn = !!localStorage.getItem('user');
            const filterButton = document.getElementById('filterButton');
            const filterOptions = document.getElementById('filterOptions');

            // ADD: Click event for video placeholders to go to live page
            videos.forEach(video => {
                video.addEventListener('click', () => {
                    window.location.href = 'live.html';
                });
                
                // Add cursor pointer style
                video.style.cursor = 'pointer';
            });

            // Shows the videos of the selected category OR shows events page
            function filterContent(category) {
                if (category === 'events') {
                    // Hide videos, show events
                    videoResults.style.display = 'none';
                    eventsPage.style.display = 'block';
                    if (createClubBtn) createClubBtn.style.display = 'none';
                    if (createEventBtn) createEventBtn.style.display = isLoggedIn ? 'block' : 'none';
                    eventsTitle.style.display = 'block';
                    filterButton.style.display = 'block';
                    filterOptions.classList.remove('active');
                } else if (category === 'clubs') {
                    // Show videos, hide events, show create club button
                    videoResults.style.display = 'grid';
                    eventsPage.style.display = 'none';
                    if (createClubBtn) createClubBtn.style.display = isLoggedIn ? 'block' : 'none';
                    eventsTitle.style.display = 'none';
                    filterButton.style.display = 'none';
                    filterOptions.classList.remove('active');
                    
                    // Filter videos by category
                    videos.forEach(video => {
                        const videoCategory = video.getAttribute('data-category');
                        video.style.display = (videoCategory === 'clubs') ? 'flex' : 'none';
                    });
                } else if (category === 'all') {
                    // Show videos, hide events and create club button, show filter
                    videoResults.style.display = 'grid';
                    eventsPage.style.display = 'none';
                    if (createClubBtn) createClubBtn.style.display = 'none';
                    if (createEventBtn) createEventBtn.style.display = 'none';
                    eventsTitle.style.display = 'none';
                    filterButton.style.display = 'block';
                    
                    // Show all videos
                    videos.forEach(video => {
                        video.style.display = 'flex';
                    });
                } else {
                    // Show videos, hide events and create club button, hide filter
                    videoResults.style.display = 'grid';
                    eventsPage.style.display = 'none';
                    if (createClubBtn) createClubBtn.style.display = 'none';
                    if (createEventBtn) createEventBtn.style.display = 'none';
                    eventsTitle.style.display = 'none';
                    filterButton.style.display = 'none';
                    filterOptions.classList.remove('active');
                    
                    // Filter videos by category
                    videos.forEach(video => {
                        const videoCategory = video.getAttribute('data-category');
                        video.style.display = (videoCategory === category) ? 'flex' : 'none';
                    });
                }
            }
            
            options.forEach(option => {
                option.addEventListener('click', (e) => {
                    e.preventDefault(); 

                    // Gets the category selected
                    const selectedCategory = e.target.getAttribute('data-category');     

                    options.forEach(item => item.classList.remove('active'));
                    e.target.classList.add('active'); 

                    // Filter content depending on category selected
                    filterContent(selectedCategory);
                });
            });

            // initial visibility based on auth
            if (createClubBtn) createClubBtn.style.display = isLoggedIn ? 'block' : 'none';
            if (createEventBtn) createEventBtn.style.display = isLoggedIn ? 'block' : 'none';
            eventsTitle.style.display = 'none';
            const initialCategory = document.querySelector('.option-item.active').getAttribute('data-category');
            filterContent(initialCategory); 

            // Filter button dropdown filter menu
            filterButton.addEventListener('click', () => {
                filterOptions.classList.toggle('active');
            });
            
        });
    </script>
        <!-- auth script: renders avatar if logged in -->
        <script src="./auth.js"></script>
  </body>     
</html>